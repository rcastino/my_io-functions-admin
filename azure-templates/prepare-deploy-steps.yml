# Azure DevOps template used to perform all the steps to make the package to deploy. 

steps:
- template: ./make-build-steps.yml
  parameters:
    make: predeploy_build

- task: CopyFiles@2
  inputs:
    SourceFolder: '$(System.DefaultWorkingDirectory)'
    TargetFolder: '$(Build.ArtifactStagingDirectory)'
    Contents: |
      **/*
      !.git/**/*
      !**/*.js.map
      !**/*.ts
      !.vscode/**/*
      !azure-templates/**/*
      !azure-pipelines.yml
      !.prettierrc
      !local.settings.json
      !test
      !tsconfig.json
  displayName: 'Copy deploy files'
